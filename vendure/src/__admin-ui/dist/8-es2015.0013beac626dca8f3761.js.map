{"version":3,"sources":["webpack:///home/martijn/git/shops/vendure/node_modules/@vendure/admin-ui/__ivy_ngcc__/fesm2015/vendure-admin-ui-dashboard.js"],"names":["DashboardComponent_button_7_Template","rf","ctx","_r4","id_r2","$implicit","addWidget","_c0","a0","width","DashboardComponent_div_10_div_1_vdr_dashboard_widget_1_button_11_Template","_r14","width_r11","widget_r8","setWidgetWidth","DashboardComponent_div_10_div_1_vdr_dashboard_widget_1_Template","_r18","removeWidget","ctx_r9","config","getSupportedWidths","DashboardComponent_div_10_div_1_Template","ctx_r7","getClassForWidth","requiresPermissions","_c1","index","DashboardComponent_div_10_Template","_r21","$event","drop","row_r5","rowIndex_r6","ctx_r1","trackRowItem","_c2","DashboardWidgetComponent_ng_container_3_Template","title_r3","ngIf","DashboardWidgetComponent_ng_template_7_Template","_c4","a1","LatestOrdersWidgetComponent_ng_template_2_Template","order_r1","item","code","state","customer","total","currencyCode","orderPlacedAt","id","OrderSummaryWidgetComponent_div_18_Template","ctx_r3","selection$","next","timeframe","date","today","ctx_r5","yesterday","selection_r2","ctx_r0","OrderSummaryWidgetComponent_div_20_Template","range_r8","start","end","WelcomeWidgetComponent_div_0_p_7_Template","ctx_r2","hideVendureBranding","hideVersion","version","WelcomeWidgetComponent_div_0_Template","administrator_r1","firstName","lastName","user","lastLogin","DashboardComponent","dashboardWidgetService","localStorageService","changedDetectorRef","dataService","this","deletionMarker","availableWidgetIds$","client","userStatus","stream$","pipe","permissions","getAvailableIds","ids","widgetLayout","initLayout","assertNever","supportedWidths","widget","recalculateLayout","row","map","join","_a","getWidgetById","targetRow","length","push","event","currentIndex","previousIndex","previousContainer","container","data","previousLayoutRow","newLayoutRow","splice","availableIds","savedLayoutDef","get","layoutDef","filter","includes","getWidgetLayout","newLayoutDef","reduce","flat","set","setTimeout","markForCheck","ɵfac","t","ɵcmp","type","selectors","decls","vars","consts","template","trackRow","directives","DashboardWidgetComponent","pipes","styles","changeDetection","ctorParameters","componentFactoryResolver","loadWidget","loadComponentResult","widgetConfig","loadComponent","componentType","Promise","componentRef","portal","createComponent","resolveComponentFactory","changeDetectorRef","destroy","viewQuery","_t","first","inputs","ngContentSelectors","title","propDecorators","args","read","dashboardRoutes","path","component","pathMatch","LatestOrdersWidgetComponent","latestOrders$","order","getOrders","take","active","eq","sort","DESC","refetchOnChannelChange","mapStream","orders","items","LatestOrdersWidgetModule","ɵmod","ɵinj","imports","OrderSummaryWidgetComponent","Date","setDate","getDate","dateRange$","selection","startOf","toDate","endOf","orderSummary$","getOrderSummary","totalOrderCount$","res","totalItems","totalOrderValue$","currencyCode$","settings","getActiveChannel","activeChannel","undefined","OrderSummaryWidgetModule","TestWidgetComponent","TestWidgetModule","WelcomeWidgetComponent","brand","administrator$","administrator","getActiveAdministrator","activeAdministrator","WelcomeWidgetModule","DEFAULT_DASHBOARD_WIDGET_LAYOUT","ɵ0","ɵ1","ɵ2","ɵ3","DEFAULT_WIDGETS","welcome","orderSummary","ReadOrder","latestOrders","testWidget","DashboardModule","Object","entries","registerWidget","getDefaultLayout","setDefaultLayout","forChild"],"mappings":"6FAAA,mlCAkBA,SAASA,EAAqCC,EAAIC,GAAO,GAAS,EAALD,EAAQ,CACjE,MAAME,EAAM,OACZ,KAAsB,EAAG,SAAU,GACnC,KAAkB,QAAS,WAA0E,KAAqBA,GAAM,MAAMC,EAAQF,EAAIG,UAAkD,OAAxB,OAAsCC,UAAUF,KAC5N,KAAc,GACd,OACF,GAAS,EAALH,EAAQ,CACV,MAAMG,EAAQF,EAAIG,UAClB,KAAiB,GACjB,KAA0B,IAAKD,EAAO,MAE1C,MAAMG,EAAM,SAAUC,GAAM,MAAO,CAAEC,MAAOD,IAC5C,SAASE,EAA0ET,EAAIC,GAAO,GAAS,EAALD,EAAQ,CACtG,MAAMU,EAAO,OACb,KAAsB,EAAG,SAAU,IACnC,KAAkB,QAAS,WAA+G,KAAqBA,GAAO,MAAMC,EAAYV,EAAIG,UAAiBQ,EAAY,KAAqB,GAAGR,UAAoD,OAAzB,KAAqB,GAAmBS,eAAeD,EAAWD,KAC9U,KAAc,GACd,KAAc,EAAG,aACjB,OACF,GAAS,EAALX,EAAQ,CACV,MAAMW,EAAYV,EAAIG,UAChBQ,EAAY,KAAqB,GAAGR,UAC1C,KAAkB,WAAYO,IAAcC,EAAUJ,OACtD,KAAiB,GACjB,KAA0B,IAAK,KAAmB,EAAG,EAAG,yBAA0B,KAAuB,EAAGF,EAAKK,IAAa,MAElI,SAASG,EAAgEd,EAAIC,GAAO,GAAS,EAALD,EAAQ,CAC5F,MAAMe,EAAO,OACb,KAAsB,EAAG,uBAAwB,IACjD,KAAsB,EAAG,MAAO,IAChC,KAAsB,EAAG,MAAO,IAChC,KAAiB,EAAG,WAAY,IAChC,OACA,KAAsB,EAAG,gBACzB,KAAsB,EAAG,SAAU,IACnC,KAAiB,EAAG,WAAY,IAChC,OACA,KAAsB,EAAG,oBAAqB,GAC9C,KAAsB,EAAG,KAAM,IAC/B,KAAc,GACd,KAAc,GAAI,aAClB,OACA,KAAkB,GAAIN,EAA2E,EAAG,EAAG,SAAU,IACjH,KAAiB,GAAI,MAAO,IAC5B,KAAsB,GAAI,SAAU,GACpC,KAAkB,QAAS,WAAsG,KAAqBM,GAAO,MAAMH,EAAY,OAAuBR,UAAoD,OAAzB,KAAqB,GAAmBY,aAAaJ,KACtR,KAAiB,GAAI,WAAY,IACjC,KAAc,IACd,KAAc,GAAI,aAClB,OACA,OACA,OACA,OACA,OACF,GAAS,EAALZ,EAAQ,CACV,MAAMY,EAAY,OAAuBR,UACnCa,EAAS,KAAqB,GACpC,KAAkB,eAAgBL,EAAUM,QAC5C,KAAiB,GACjB,KAAyB,KAAmB,GAAI,EAAG,4BACnD,KAAiB,GACjB,KAAkB,UAAWD,EAAOE,mBAAmBP,EAAUM,SACjE,KAAiB,GACjB,KAA0B,IAAK,KAAmB,GAAI,EAAG,2BAA4B,MAEzF,SAASE,EAAyCpB,EAAIC,GAIpD,GAJoE,EAALD,IAC7D,KAAsB,EAAG,MAAO,IAChC,KAAkB,EAAGc,EAAiE,GAAI,EAAG,uBAAwB,IACrH,QACO,EAALd,EAAQ,CACV,MAAMY,EAAYX,EAAIG,UAChBiB,EAAS,KAAqB,GACpC,KAAkB,UAAWA,EAAOC,iBAAiBV,EAAUJ,OAA/D,CAAuE,cAAeI,GACtF,KAAiB,GACjB,KAAkB,mBAAoBA,EAAUM,OAAOK,qBAAuB,OAElF,MAAMC,EAAM,SAAUjB,GAAM,MAAO,CAAEkB,MAAOlB,IAC5C,SAASmB,EAAmC1B,EAAIC,GAAO,GAAS,EAALD,EAAQ,CAC/D,MAAM2B,EAAO,OACb,KAAsB,EAAG,MAAO,GAChC,KAAkB,qBAAsB,SAA8EC,GAAU,KAAqBD,GAA+C,OAAxB,OAAuCE,KAAKD,KACxN,KAAkB,EAAGR,EAA0C,EAAG,EAAG,MAAO,GAC5E,OACF,GAAS,EAALpB,EAAQ,CACV,MAAM8B,EAAS7B,EAAIG,UACb2B,EAAc9B,EAAIwB,MAClBO,EAAS,OACf,KAAkB,kBAAmB,KAAuB,EAAGR,EAAKO,IACpE,KAAiB,GACjB,KAAkB,UAAWD,EAA7B,CAAqC,eAAgBE,EAAOC,eAEhE,MAAMC,EAAM,CAAC,UACb,SAASC,EAAiDnC,EAAIC,GAK5D,GAL4E,EAALD,IACrE,KAA+B,GAC/B,KAAc,GACd,KAAc,EAAG,aACjB,QACO,EAALA,EAAQ,CACV,MAAMoC,EAAWnC,EAAIoC,KACrB,KAAiB,GACjB,KAAyB,KAAmB,EAAG,EAAGD,KAEtD,SAASE,EAAgDtC,EAAIC,IAC7D,MACMsC,EAAM,SAAUC,GAAM,MAAO,CAAC,WAAYA,IAChD,SAASC,EAAmDzC,EAAIC,GAoB9D,GApB8E,EAALD,IACvE,KAAsB,EAAG,KAAM,GAC/B,KAAc,GACd,KAAiB,EAAG,wBAAyB,GAC7C,OACA,KAAsB,EAAG,KAAM,GAC/B,KAAiB,EAAG,qBAAsB,GAC1C,OACA,KAAsB,EAAG,KAAM,GAC/B,KAAc,GACd,KAAc,EAAG,kBACjB,OACA,KAAsB,EAAG,KAAM,GAC/B,KAAc,GACd,KAAc,GAAI,WAClB,OACA,KAAsB,GAAI,KAAM,GAChC,KAAiB,GAAI,uBAAwB,GAC7C,KAAc,GAAI,aAClB,QACO,EAALA,EAAQ,CACV,MAAM0C,EAAWzC,EAAI0C,KACrB,KAAiB,GACjB,KAA0B,IAAKD,EAASE,KAAM,KAC9C,KAAiB,GACjB,KAAkB,QAASF,EAASG,OACpC,KAAiB,GACjB,KAAkB,WAAYH,EAASI,UACvC,KAAiB,GACjB,KAAyB,KAAmB,EAAG,EAAGJ,EAASK,MAAOL,EAASM,eAC3E,KAAiB,GACjB,KAAyB,KAAmB,GAAI,GAAIN,EAASO,gBAC7D,KAAiB,GACjB,KAAkB,QAAS,KAAmB,GAAI,GAAI,eAAtD,CAAsE,SAAU,KAAuB,GAAIV,EAAKG,EAASQ,MAE7H,SAASC,EAA4CnD,EAAIC,GAAO,GAAS,EAALD,EAAQ,CACxE,MAAME,EAAM,OACZ,KAAsB,EAAG,MAAO,GAChC,KAAsB,EAAG,SAAU,GACnC,KAAkB,QAAS,WAAiF,KAAqBA,GAAM,MAAMkD,EAAS,OAAwB,OAAOA,EAAOC,WAAWC,KAAK,CAAEC,UAAW,MAAOC,KAAMJ,EAAOK,UAC7O,KAAc,GACd,KAAc,EAAG,aACjB,OACA,KAAsB,EAAG,SAAU,GACnC,KAAkB,QAAS,WAAiF,KAAqBvD,GAAM,MAAMwD,EAAS,OAAwB,OAAOA,EAAOL,WAAWC,KAAK,CAAEC,UAAW,MAAOC,KAAME,EAAOC,cAC7O,KAAc,GACd,KAAc,EAAG,aACjB,OACA,KAAsB,EAAG,SAAU,GACnC,KAAkB,QAAS,WAAiF,KAAqBzD,GAA6C,OAAxB,OAAsCmD,WAAWC,KAAK,CAAEC,UAAW,WACzN,KAAc,GACd,KAAc,EAAG,aACjB,OACA,KAAsB,GAAI,SAAU,GACpC,KAAkB,QAAS,WAAkF,KAAqBrD,GAA6C,OAAxB,OAAsCmD,WAAWC,KAAK,CAAEC,UAAW,YAC1N,KAAc,IACd,KAAc,GAAI,aAClB,OACA,OACF,GAAS,EAALvD,EAAQ,CACV,MAAM4D,EAAe3D,EAAIoC,KACnBwB,EAAS,OACf,KAAiB,GACjB,KAAmB,cAAeD,EAAaJ,OAASK,EAAOJ,OAC/D,KAAiB,GACjB,KAA0B,IAAK,KAAmB,EAAG,GAAI,mBAAoB,KAC7E,KAAiB,GACjB,KAAmB,cAAeG,EAAaJ,OAASK,EAAOF,WAC/D,KAAiB,GACjB,KAA0B,IAAK,KAAmB,EAAG,GAAI,uBAAwB,KACjF,KAAiB,GACjB,KAAmB,cAA0C,SAA3BC,EAAaL,WAC/C,KAAiB,GACjB,KAA0B,IAAK,KAAmB,EAAG,GAAI,sBAAuB,KAChF,KAAiB,GACjB,KAAmB,cAA0C,UAA3BK,EAAaL,WAC/C,KAAiB,GACjB,KAA0B,IAAK,KAAmB,GAAI,GAAI,uBAAwB,MAEtF,SAASO,EAA4C9D,EAAIC,GAMvD,GANuE,EAALD,IAChE,KAAsB,EAAG,MAAO,GAChC,KAAc,GACd,KAAc,EAAG,cACjB,KAAc,EAAG,cACjB,QACO,EAALA,EAAQ,CACV,MAAM+D,EAAW9D,EAAIoC,KACrB,KAAiB,GACjB,KAA0B,IAAK,KAAmB,EAAG,EAAG0B,EAASC,OAAQ,MAAO,KAAmB,EAAG,EAAGD,EAASE,KAAM,MAE5H,SAASC,EAA0ClE,EAAIC,GAIrD,GAJqE,EAALD,IAC9D,KAAsB,EAAG,IAAK,GAC9B,KAAc,GACd,QACO,EAALA,EAAQ,CACV,MAAMmE,EAAS,KAAqB,GACpC,KAAiB,GACjB,KAA0B,IAAKA,EAAOC,oBAAsB,GAAK,UAAW,IAAKD,EAAOE,YAAc,GAAK,aAAeF,EAAOG,QAAS,MAE9I,SAASC,EAAsCvE,EAAIC,GAYjD,GAZiE,EAALD,IAC1D,KAAsB,EAAG,OACzB,KAAsB,EAAG,KAAM,GAC/B,KAAc,GACd,KAAiB,EAAG,MACpB,KAAsB,EAAG,QAAS,GAClC,KAAc,GACd,KAAc,EAAG,WACjB,OACA,OACA,KAAkB,EAAGkE,EAA2C,EAAG,EAAG,IAAK,GAC3E,QACO,EAALlE,EAAQ,CACV,MAAMwE,EAAmBvE,EAAIoC,KACvBwB,EAAS,OACf,KAAiB,GACjB,KAA0B,aAAcW,EAAiBC,UAAW,IAAKD,EAAiBE,SAAU,IACpG,KAAiB,GACjB,KAA0B,eAAgB,KAAmB,EAAG,EAAGF,EAAiBG,KAAKC,WAAY,IACrG,KAAiB,GACjB,KAAkB,QAASf,EAAOO,sBAAwBP,EAAOQ,cAErE,MAAMQ,EACF,YAAYC,EAAwBC,EAAqBC,EAAoBC,GACzEC,KAAKJ,uBAAyBA,EAC9BI,KAAKH,oBAAsBA,EAC3BG,KAAKF,mBAAqBA,EAC1BE,KAAKD,YAAcA,EACnBC,KAAKC,eAAiB,aAE1B,WACID,KAAKE,oBAAsBF,KAAKD,YAAYI,OAAOC,aAAaC,QAAQC,KAAK,YAAI,EAAGF,gBAAiBA,EAAWG,aAAc,YAAIA,GAAeP,KAAKJ,uBAAuBY,gBAAgBD,IAAe,YAAIE,GAAQT,KAAKU,aAAeV,KAAKW,WAAWF,KAEhQ,iBAAiBnF,GACb,OAAQA,GACJ,KAAK,EACD,MAAO,uCACX,KAAK,EACD,MAAO,uCACX,KAAK,EACD,MAAO,0BACX,KAAK,EACD,MAAO,0BACX,KAAK,GACD,MAAO,aACX,QACI,SAAAsF,YAAA,CAAYtF,IAGxB,mBAAmBU,GACf,OAAOA,EAAO6E,iBAAmB,CAAC,EAAG,EAAG,EAAG,EAAG,IAElD,eAAeC,EAAQxF,GACnBwF,EAAOxF,MAAQA,EACf0E,KAAKe,oBAET,SAASxE,EAAOyE,GAEZ,OADWA,EAAIC,IAAIxD,GAAQ,GAAGA,EAAKO,MAAMP,EAAKnC,SAAS4F,KAAK,KAGhE,aAAa3E,EAAOkB,GAChB,OAAOA,EAAKzB,OAEhB,UAAUgC,GACN,IAAImD,EACJ,MAAMnF,EAASgE,KAAKJ,uBAAuBwB,cAAcpD,GACzD,GAAIhC,EAAQ,CACR,MACM8E,EAAS,CACX9C,KACAhC,SACAV,MAJU0E,KAAK/D,mBAAmBD,GAAQ,IAM9C,IAAIqF,EACArB,KAAKU,cAAgBV,KAAKU,aAAaY,OACvCD,EAAYrB,KAAKU,aAAaV,KAAKU,aAAaY,OAAS,IAGzDD,EAAY,GACiB,QAA5BF,EAAKnB,KAAKU,oBAAiC,IAAPS,GAAyBA,EAAGI,KAAKF,IAE1EA,EAAUE,KAAKT,GACfd,KAAKe,qBAGb,aAAaD,GACTA,EAAO9C,GAAKgC,KAAKC,eACjBD,KAAKe,oBAET,KAAKS,GACD,MAAM,aAAEC,EAAY,cAAEC,EAAa,kBAAEC,EAAiB,UAAEC,GAAcJ,EACtE,IAAIE,IAAkBD,GAAgBE,EAAkBE,KAAKtF,QAAUqF,EAAUC,KAAKtF,QAIlFyD,KAAKU,aAAc,CACnB,MAAMoB,EAAoB9B,KAAKU,aAAaiB,EAAkBE,KAAKtF,OAC7DwF,EAAe/B,KAAKU,aAAakB,EAAUC,KAAKtF,OACtDuF,EAAkBE,OAAON,EAAe,GACxCK,EAAaC,OAAOP,EAAc,EAAGD,EAAM/D,KAAKoE,MAChD7B,KAAKe,qBAGb,WAAWkB,GACP,MAAMC,EAAiBlC,KAAKH,oBAAoBsC,IAAI,yBACpD,IAAIC,EAKJ,OAJIF,IAEAE,EAAYF,EAAeG,OAAO5E,GAAQwE,EAAaK,SAAS7E,EAAKO,MAElEgC,KAAKJ,uBAAuB2C,gBAAgBH,GAEvD,oBACI,GAAIpC,KAAKU,aAAc,CACnB,MAGM8B,EAHYxC,KAAKU,aAClB+B,OAAO,CAACC,EAAM1B,IAAQ,IAAI0B,KAAS1B,GAAM,IACzCqB,OAAO5E,GAAQA,EAAKO,KAAOgC,KAAKC,gBACNgB,IAAIxD,KAC/BO,GAAIP,EAAKO,GACT1C,MAAOmC,EAAKnC,SAEhB0E,KAAKU,aAAeV,KAAKJ,uBAAuB2C,gBAAgBC,GAChExC,KAAKH,oBAAoB8C,IAAI,wBAAyBH,GACtDI,WAAW,IAAM5C,KAAKF,mBAAmB+C,kBAIrDlD,EAAmBmD,UAAO,SAAoCC,GAAK,OAAO,IAAKA,GAAKpD,GAAoB,KAAyB,KAAgC,KAAyB,MAA6B,KAAyB,KAA2B,KAAyB,OACpSA,EAAmBqD,UAAO,KAAyB,CAAEC,KAAMtD,EAAoBuD,UAAW,CAAC,CAAC,kBAAmBC,MAAO,GAAIC,KAAM,EAAGC,OAAQ,CAAC,CAAC,EAAG,iBAAkB,CAAC,qBAAsB,GAAI,EAAG,MAAO,gBAAiB,UAAW,CAAC,QAAS,QAAS,CAAC,cAAe,gBAAiB,CAAC,QAAS,SAAU,kBAAmB,GAAI,EAAG,QAAS,EAAG,QAAS,WAAY,CAAC,mBAAoB,IAAK,CAAC,QAAS,wBAAyB,cAAe,GAAI,yBAA0B,aAAc,EAAG,kBAAmB,qBAAsB,EAAG,QAAS,UAAW,gBAAiB,CAAC,kBAAmB,GAAI,EAAG,SAAU,EAAG,SAAU,CAAC,cAAe,GAAI,yBAA0B,aAAc,EAAG,UAAW,gBAAiB,EAAG,kBAAmB,sBAAuB,CAAC,QAAS,iBAAkB,UAAW,GAAI,EAAG,UAAW,cAAe,EAAG,QAAS,UAAW,gBAAiB,CAAC,UAAW,GAAI,EAAG,iBAAkB,EAAG,UAAW,eAAgB,CAAC,EAAG,eAAgB,EAAG,oBAAqB,CAAC,EAAG,gBAAiB,CAAC,EAAG,QAAS,CAAC,gBAAiB,GAAI,EAAG,eAAgB,CAAC,QAAS,cAAe,OAAQ,MAAO,CAAC,qBAAsB,GAAI,EAAG,eAAgB,CAAC,QAAS,qBAAsB,CAAC,EAAG,mBAAoB,CAAC,QAAS,SAAU,kBAAmB,GAAI,EAAG,WAAY,QAAS,EAAG,QAAS,WAAY,CAAC,OAAQ,YAAa,EAAG,oBAAqB,CAAC,QAAS,QAAS,EAAG,aAAc,CAAC,kBAAmB,GAAI,EAAG,SAAU,EAAG,WAAY,UAAWC,SAAU,SAAqCxI,EAAIC,GAAgB,EAALD,IACt8C,KAAsB,EAAG,MAAO,GAChC,KAAsB,EAAG,gBACzB,KAAsB,EAAG,SAAU,GACnC,KAAiB,EAAG,WAAY,GAChC,KAAc,GACd,KAAc,EAAG,aACjB,OACA,KAAsB,EAAG,oBAAqB,GAC9C,KAAkB,EAAGD,EAAsC,EAAG,EAAG,SAAU,GAC3E,KAAc,EAAG,SACjB,OACA,OACA,OACA,KAAsB,EAAG,MAAO,GAChC,KAAkB,GAAI2B,EAAoC,EAAG,EAAG,MAAO,GACvE,QACO,EAAL1B,IACF,KAAiB,GACjB,KAA0B,IAAK,KAAmB,EAAG,EAAG,wBAAyB,KACjF,KAAiB,GACjB,KAAkB,UAAW,KAAmB,EAAG,EAAGC,EAAImF,sBAC1D,KAAiB,GACjB,KAAkB,UAAWnF,EAAI2F,aAAjC,CAA+C,eAAgB3F,EAAIwI,YAClEC,WAAY,WAAc,MAAO,CAAC,IAA0B,IAAiC,IAAyB,IAA8B,IAAgB,IAAyB,IAAgC,IAA8B,IAAoB,IAAgB,IAAgB,KAA+BC,EAA0B,MAA0BC,MAAO,WAAc,MAAO,CAAC,IAAsB,MAAsBC,OAAQ,CAAC,gjCAAijCC,gBAAiB,IAC/hDjE,EAAmBkE,eAAiB,IAAM,CACtC,CAAEZ,KAAM,KACR,CAAEA,KAAM,MACR,CAAEA,KAAM,KACR,CAAEA,KAAM,MAYZ,MAAMQ,EACF,YAAYK,GACR9D,KAAK8D,yBAA2BA,EAEpC,kBACI9D,KAAK+D,aAET,aACI,OAAO,YAAU/D,UAAM,OAAQ,EAAQ,YACnC,MAAMgE,EAAsBhE,KAAKiE,aAAaC,gBACxCC,EAAgBH,aAA+BI,cAAgBJ,EAAsBA,EAC3FhE,KAAKqE,aAAerE,KAAKsE,OAAOC,gBAAgBvE,KAAK8D,yBAAyBU,wBAAwBL,IACtGnE,KAAKqE,aAAaI,kBAAkB5B,iBAG5C,cACQ7C,KAAKqE,cACLrE,KAAKqE,aAAaK,WAI9BjB,EAAyBX,UAAO,SAA0CC,GAAK,OAAO,IAAKA,GAAKU,GAA0B,KAAyB,OACnJA,EAAyBT,UAAO,KAAyB,CAAEC,KAAMQ,EAA0BP,UAAW,CAAC,CAAC,yBAA0ByB,UAAW,SAAwC7J,EAAIC,GAEnL,GAFmM,EAALD,GAC5L,KAAmBkC,EAAK,EAAG,MACpB,EAALlC,EAAQ,CACV,IAAI8J,EACJ,KAAsBA,EAAK,UAA0B7J,EAAIuJ,OAASM,EAAGC,SACpEC,OAAQ,CAAEb,aAAc,gBAAkBc,mBAzSvC,CAAC,KAyS+D5B,MAAO,EAAGC,KAAM,EAAGC,OAAQ,CAAC,CAAC,EAAG,QAAS,CAAC,EAAG,eAAgB,CAAC,EAAG,SAAU,CAAC,EAAG,QAAS,CAAC,EAAG,YAAa,CAAC,EAAG,cAAe,CAAC,SAAU,KAAMC,SAAU,SAA2CxI,EAAIC,GAAgB,EAALD,IACrR,OACA,KAAsB,EAAG,MAAO,GAChC,KAAsB,EAAG,MAAO,GAChC,KAAsB,EAAG,MAAO,GAChC,KAAkB,EAAGmC,EAAkD,EAAG,EAAG,eAAgB,GAC7F,OACA,KAAsB,EAAG,MAAO,GAChC,KAAoB,GACpB,OACA,OACA,KAAsB,EAAG,MAAO,GAChC,KAAkB,EAAGG,EAAiD,EAAG,EAAG,cAAe,KAAM,EAAG,MACpG,OACA,QACO,EAALtC,IACF,KAAiB,GACjB,KAAkB,OAAQC,EAAIkJ,aAAae,SAC1CxB,WAAY,CAAC,KAAcE,MAAO,CAAC,KAAuBC,OAAQ,CAAC,qKAAsKC,gBAAiB,IACnQH,EAAyBI,eAAiB,IAAM,CAC5C,CAAEZ,KAAM,MAEZQ,EAAyBwB,eAAiB,CACtChB,aAAc,CAAC,CAAEhB,KAAM,MACvBqB,OAAQ,CAAC,CAAErB,KAAM,KAAWiC,KAAM,CAAC,SAAU,CAAEC,KAAM,UAiBzD,MAAMC,EAAkB,CACpB,CACIC,KAAM,GACNC,UAAW3F,EACX4F,UAAW,SAInB,MAAMC,EACF,YAAYzF,GACRC,KAAKD,YAAcA,EAEvB,WACIC,KAAKyF,cAAgBzF,KAAKD,YAAY2F,MACjCC,UAAU,CACXC,KAAM,GACNvD,OAAQ,CACJwD,OAAQ,CAAEC,IAAI,IAElBC,KAAM,CACFhI,cAAe,KAAUiI,QAG5BC,yBACAC,UAAUrE,GAAQA,EAAKsE,OAAOC,QAG3CZ,EAA4B1C,UAAO,SAA6CC,GAAK,OAAO,IAAKA,GAAKyC,GAA6B,KAAyB,OAC5JA,EAA4BxC,UAAO,KAAyB,CAAEC,KAAMuC,EAA6BtC,UAAW,CAAC,CAAC,6BAA8BC,MAAO,EAAGC,KAAM,EAAGC,OAAQ,CAAC,CAAC,EAAG,SAAU,CAAC,EAAG,OAAQ,gBAAiB,CAAC,EAAG,SAAU,CAAC,EAAG,YAAa,CAAC,EAAG,QAAS,gBAAiB,CAAC,YAAa,gBAAiB,EAAG,QAAS,WAAYC,SAAU,SAA8CxI,EAAIC,GAAgB,EAALD,IACtY,KAAsB,EAAG,iBAAkB,GAC3C,KAAc,EAAG,SACjB,KAAkB,EAAGyC,EAAoD,GAAI,GAAI,eACjF,QACO,EAALzC,GACF,KAAkB,QAAS,KAAmB,EAAG,EAAGC,EAAI0K,iBACvDjC,WAAY,CAAC,IAA2B,KAAiC,IAA+B,MAAiCE,MAAO,CAAC,IAAkB,KAA2B,KAAoB,KAAuBC,OAAQ,CAAC,6DAA8DC,gBAAiB,IAC1U4B,EAA4B3B,eAAiB,IAAM,CAC/C,CAAEZ,KAAM,MAWZ,MAAMoD,GAENA,EAAyBvD,UAAO,SAA0CC,GAAK,OAAO,IAAKA,GAAKsD,IAChGA,EAAyBC,UAAO,KAAwB,CAAErD,KAAMoD,IAChEA,EAAyBE,UAAO,KAAwB,CAAEC,QAAS,CAAC,CAAC,IAAY,SAUjF,MAAMC,EACF,YAAY1G,GACRC,KAAKD,YAAcA,EACnBC,KAAKzB,MAAQ,IAAImI,KACjB1G,KAAKvB,UAAY,IAAIiI,MAAK,IAAIA,MAAOC,QAAQ3G,KAAKzB,MAAMqI,UAAY,IACpE5G,KAAK7B,WAAa,IAAI,IAAgB,CAClCE,UAAW,MACXC,KAAM0B,KAAKzB,QAGnB,WACIyB,KAAK6G,WAAa7G,KAAK7B,WAAWmC,KAAK,cAAwB,YAAIwG,KAE3DhI,MAAO,IAAMgI,EAAUxI,MAAMyI,QAAQD,EAAUzI,WAAW2I,SAC1DjI,IAAK,IAAM+H,EAAUxI,MAAM2I,MAAMH,EAAUzI,WAAW2I,YAE1D,YAAY,IAChB,MAAME,EAAgBlH,KAAK6G,WAAWvG,KAAK,YAAU,EAAGxB,QAAOC,SACpDiB,KAAKD,YAAY2F,MACnByB,gBAAgBrI,EAAOC,GACvBkH,yBACAC,UAAUrE,GAAQA,EAAKsE,SAC5B,YAAY,IAChBnG,KAAKoH,iBAAmBF,EAAc5G,KAAK,YAAI+G,GAAOA,EAAIC,aAC1DtH,KAAKuH,iBAAmBL,EAAc5G,KAAK,YAAI+G,GAAOA,EAAIjB,MAAM3D,OAAO,CAAC5E,EAAO6H,IAAU7H,EAAQ6H,EAAM7H,MAAO,GAAK,MACnHmC,KAAKwH,cAAgBxH,KAAKD,YAAY0H,SACjCC,mBACAzB,yBACAC,UAAUrE,GAAQA,EAAK8F,cAAc7J,mBAAgB8J,IAGlEnB,EAA4B3D,UAAO,SAA6CC,GAAK,OAAO,IAAKA,GAAK0D,GAA6B,KAAyB,OAC5JA,EAA4BzD,UAAO,KAAyB,CAAEC,KAAMwD,EAA6BvD,UAAW,CAAC,CAAC,6BAA8BC,MAAO,GAAIC,KAAM,GAAIC,OAAQ,CAAC,CAAC,EAAG,SAAU,CAAC,EAAG,QAAS,CAAC,EAAG,eAAgB,CAAC,EAAG,cAAe,CAAC,EAAG,UAAW,CAAC,QAAS,uCAAwC,EAAG,QAAS,CAAC,QAAS,gBAAiB,EAAG,QAAS,CAAC,EAAG,YAAa,sBAAuB,UAAW,CAAC,EAAG,MAAO,EAAG,SAAU,CAAC,EAAG,aAAc,OAAQC,SAAU,SAA8CxI,EAAIC,GAAgB,EAALD,IACpgB,KAAsB,EAAG,MAAO,GAChC,KAAsB,EAAG,MAAO,GAChC,KAAsB,EAAG,MAAO,GAChC,KAAc,GACd,KAAc,EAAG,SACjB,OACA,KAAsB,EAAG,MAAO,GAChC,KAAc,GACd,KAAc,EAAG,aACjB,OACA,OACA,KAAsB,EAAG,MAAO,GAChC,KAAsB,EAAG,MAAO,GAChC,KAAc,IACd,KAAc,GAAI,YAClB,KAAc,GAAI,SAClB,KAAc,GAAI,SAClB,OACA,KAAsB,GAAI,MAAO,GACjC,KAAc,IACd,KAAc,GAAI,aAClB,OACA,OACA,OACA,KAAsB,GAAI,MAAO,GACjC,KAAkB,GAAImD,EAA6C,GAAI,GAAI,MAAO,GAClF,KAAc,GAAI,SAClB,KAAkB,GAAIW,EAA6C,EAAG,EAAG,MAAO,GAChF,KAAc,GAAI,SAClB,QACO,EAAL9D,IACF,KAAiB,GACjB,KAAyB,KAAmB,EAAG,EAAGC,EAAIqM,mBACtD,KAAiB,GACjB,KAAyB,KAAmB,EAAG,EAAG,2BAClD,KAAiB,GACjB,KAA0B,IAAK,KAAmB,GAAI,GAAI,KAAmB,GAAI,GAAIrM,EAAIwM,kBAAmB,KAAmB,GAAI,GAAIxM,EAAIyM,qBAAkBI,GAAY,KACzK,KAAiB,GACjB,KAAyB,KAAmB,GAAI,GAAI,gCACpD,KAAiB,GACjB,KAAkB,OAAQ,KAAmB,GAAI,GAAI7M,EAAIoD,aACzD,KAAiB,GACjB,KAAkB,OAAQ,KAAmB,GAAI,GAAIpD,EAAI8L,eACxDrD,WAAY,CAAC,KAAcE,MAAO,CAAC,IAAkB,IAAsB,IAAqB,MAAwBC,OAAQ,CAAC,sdAAudC,gBAAiB,IAClnB6C,EAA4B5C,eAAiB,IAAM,CAC/C,CAAEZ,KAAM,MAWZ,MAAM4E,GAENA,EAAyB/E,UAAO,SAA0CC,GAAK,OAAO,IAAKA,GAAK8E,IAChGA,EAAyBvB,UAAO,KAAwB,CAAErD,KAAM4E,IAChEA,EAAyBtB,UAAO,KAAwB,CAAEC,QAAS,CAAC,CAAC,QAUrE,MAAMsB,GAENA,EAAoBhF,UAAO,SAAqCC,GAAK,OAAO,IAAKA,GAAK+E,IACtFA,EAAoB9E,UAAO,KAAyB,CAAEC,KAAM6E,EAAqB5E,UAAW,CAAC,CAAC,oBAAqBC,MAAO,EAAGC,KAAM,EAAGE,SAAU,SAAsCxI,EAAIC,GAAgB,EAALD,IAC7L,KAAsB,EAAG,KACzB,KAAc,EAAG,0BACjB,SACC6I,OAAQ,CAAC,IAAKC,gBAAiB,IAUxC,MAAMmE,GAENA,EAAiBjF,UAAO,SAAkCC,GAAK,OAAO,IAAKA,GAAKgF,IAChFA,EAAiBzB,UAAO,KAAwB,CAAErD,KAAM8E,IACxDA,EAAiBxB,UAAO,KAAwB,IAShD,MAAMyB,EACF,YAAYjI,GACRC,KAAKD,YAAcA,EACnBC,KAAKZ,QAAU,IACfY,KAAKiI,MAAQ,eAAeA,MAC5BjI,KAAKd,oBAAsB,eAAeA,oBAC1Cc,KAAKb,YAAc,eAAeA,YAEtC,WACIa,KAAKkI,eAAiBlI,KAAKD,YAAYoI,cAClCC,yBACAlC,UAAUrE,GAAQA,EAAKwG,qBAAuB,OAG3DL,EAAuBlF,UAAO,SAAwCC,GAAK,OAAO,IAAKA,GAAKiF,GAAwB,KAAyB,OAC7IA,EAAuBhF,UAAO,KAAyB,CAAEC,KAAM+E,EAAwB9E,UAAW,CAAC,CAAC,uBAAwBC,MAAO,EAAGC,KAAM,EAAGC,OAAQ,CAAC,CAAC,EAAG,QAAS,CAAC,EAAG,eAAgB,CAAC,QAAS,aAAc,OAAQ,OAAQ,CAAC,EAAG,MAAO,CAAC,EAAG,MAAO,CAAC,QAAS,KAAM,EAAG,SAAUC,SAAU,SAAyCxI,EAAIC,GAAgB,EAALD,IAC9U,KAAkB,EAAGuE,EAAuC,EAAG,EAAG,MAAO,GACzE,KAAc,EAAG,SACjB,KAAsB,EAAG,MAAO,GAChC,KAAiB,EAAG,WAAY,GAChC,QACO,EAALvE,GACF,KAAkB,OAAQ,KAAmB,EAAG,EAAGC,EAAImN,kBACtD1E,WAAY,CAAC,IAAa,KAA0BE,MAAO,CAAC,IAAkB,MAAqBC,OAAQ,CAAC,4HAA6HC,gBAAiB,IACnQoE,EAAuBnE,eAAiB,IAAM,CAC1C,CAAEZ,KAAM,MAWZ,MAAMqF,GAENA,EAAoBxF,UAAO,SAAqCC,GAAK,OAAO,IAAKA,GAAKuF,IACtFA,EAAoBhC,UAAO,KAAwB,CAAErD,KAAMqF,IAC3DA,EAAoB/B,UAAO,KAAwB,CAAEC,QAAS,CAAC,CAAC,QAUhE,MAAM+B,EAAkC,CACpC,CAAEvK,GAAI,UAAW1C,MAAO,IACxB,CAAE0C,GAAI,eAAgB1C,MAAO,GAC7B,CAAE0C,GAAI,eAAgB1C,MAAO,IAE3BkN,EAAK,IAAMR,EAAwBS,EAAK,IAAMhC,EAA6BiC,EAAK,IAAMlD,EAA6BmD,EAAK,IAAMb,EAC9Hc,EAAkB,CACpBC,QAAS,CACL3E,cAAesE,GAEnBM,aAAc,CACV9D,MAAO,YAAO,4BACdd,cAAeuE,EACfpM,oBAAqB,CAAC,KAAW0M,YAErCC,aAAc,CACVhE,MAAO,YAAO,2BACdd,cAAewE,EACf7H,gBAAiB,CAAC,EAAG,EAAG,IACxBxE,oBAAqB,CAAC,KAAW0M,YAErCE,WAAY,CACRjE,MAAO,cACPd,cAAeyE,IAIvB,MAAMO,GACF,YAAYtJ,GACRuJ,OAAOC,QAAQR,GAAiB3H,IAAI,EAAEjD,EAAIhC,KAAY4D,EAAuByJ,eAAerL,EAAIhC,IACvC,IAArD4D,EAAuB0J,mBAAmBhI,QAC1C1B,EAAuB2J,iBAAiBhB,IAIpDW,GAAgBpG,UAAO,SAAiCC,GAAK,OAAO,IAAKA,GAAKmG,IAAiB,KAAgB,OAC/GA,GAAgB5C,UAAO,KAAwB,CAAErD,KAAMiG,KACvDA,GAAgB3C,UAAO,KAAwB,CAAEC,QAAS,CAAC,CAAC,KAAc,IAAagD,SAASpE,OAChG8D,GAAgBrF,eAAiB,IAAM,CACnC,CAAEZ,KAAM","file":"x","sourcesContent":["import { Component, ChangeDetectionStrategy, ChangeDetectorRef, ComponentFactoryResolver, Input, ViewChild, ViewContainerRef, NgModule } from '@angular/core';\nimport { DashboardWidgetService, LocalStorageService, DataService, SortOrder, CoreModule, SharedModule, ADMIN_UI_VERSION, getAppConfig, Permission } from '@vendure/admin-ui/core';\nimport { assertNever } from '@vendure/common/lib/shared-utils';\nimport { map, tap, distinctUntilChanged, shareReplay, switchMap } from 'rxjs/operators';\nimport { __awaiter } from 'tslib';\nimport { RouterModule } from '@angular/router';\nimport { marker } from '@biesbjerg/ngx-translate-extract-marker';\nimport dayjs from 'dayjs';\nimport { BehaviorSubject } from 'rxjs';\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@vendure/admin-ui/core';\nimport * as ɵngcc2 from '@clr/angular';\nimport * as ɵngcc3 from '@angular/common';\nimport * as ɵngcc4 from '@angular/cdk/drag-drop';\nimport * as ɵngcc5 from '@ngx-translate/core';\nimport * as ɵngcc6 from '@angular/router';\n\nfunction DashboardComponent_button_7_Template(rf, ctx) { if (rf & 1) {\n    const _r4 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"button\", 7);\n    ɵngcc0.ɵɵlistener(\"click\", function DashboardComponent_button_7_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r4); const id_r2 = ctx.$implicit; const ctx_r3 = ɵngcc0.ɵɵnextContext(); return ctx_r3.addWidget(id_r2); });\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const id_r2 = ctx.$implicit;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", id_r2, \" \");\n} }\nconst _c0 = function (a0) { return { width: a0 }; };\nfunction DashboardComponent_div_10_div_1_vdr_dashboard_widget_1_button_11_Template(rf, ctx) { if (rf & 1) {\n    const _r14 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"button\", 22);\n    ɵngcc0.ɵɵlistener(\"click\", function DashboardComponent_div_10_div_1_vdr_dashboard_widget_1_button_11_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r14); const width_r11 = ctx.$implicit; const widget_r8 = ɵngcc0.ɵɵnextContext(2).$implicit; const ctx_r12 = ɵngcc0.ɵɵnextContext(2); return ctx_r12.setWidgetWidth(widget_r8, width_r11); });\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵpipe(2, \"translate\");\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const width_r11 = ctx.$implicit;\n    const widget_r8 = ɵngcc0.ɵɵnextContext(2).$implicit;\n    ɵngcc0.ɵɵproperty(\"disabled\", width_r11 === widget_r8.width);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ɵngcc0.ɵɵpipeBind2(2, 2, \"dashboard.widget-width\", ɵngcc0.ɵɵpureFunction1(5, _c0, width_r11)), \" \");\n} }\nfunction DashboardComponent_div_10_div_1_vdr_dashboard_widget_1_Template(rf, ctx) { if (rf & 1) {\n    const _r18 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"vdr-dashboard-widget\", 12);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 13);\n    ɵngcc0.ɵɵelementStart(2, \"div\", 14);\n    ɵngcc0.ɵɵelement(3, \"clr-icon\", 15);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(4, \"vdr-dropdown\");\n    ɵngcc0.ɵɵelementStart(5, \"button\", 16);\n    ɵngcc0.ɵɵelement(6, \"clr-icon\", 17);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(7, \"vdr-dropdown-menu\", 3);\n    ɵngcc0.ɵɵelementStart(8, \"h4\", 18);\n    ɵngcc0.ɵɵtext(9);\n    ɵngcc0.ɵɵpipe(10, \"translate\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(11, DashboardComponent_div_10_div_1_vdr_dashboard_widget_1_button_11_Template, 3, 7, \"button\", 19);\n    ɵngcc0.ɵɵelement(12, \"div\", 20);\n    ɵngcc0.ɵɵelementStart(13, \"button\", 7);\n    ɵngcc0.ɵɵlistener(\"click\", function DashboardComponent_div_10_div_1_vdr_dashboard_widget_1_Template_button_click_13_listener() { ɵngcc0.ɵɵrestoreView(_r18); const widget_r8 = ɵngcc0.ɵɵnextContext().$implicit; const ctx_r16 = ɵngcc0.ɵɵnextContext(2); return ctx_r16.removeWidget(widget_r8); });\n    ɵngcc0.ɵɵelement(14, \"clr-icon\", 21);\n    ɵngcc0.ɵɵtext(15);\n    ɵngcc0.ɵɵpipe(16, \"translate\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const widget_r8 = ɵngcc0.ɵɵnextContext().$implicit;\n    const ctx_r9 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"widgetConfig\", widget_r8.config);\n    ɵngcc0.ɵɵadvance(9);\n    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(10, 4, \"dashboard.widget-resize\"));\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r9.getSupportedWidths(widget_r8.config));\n    ɵngcc0.ɵɵadvance(4);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ɵngcc0.ɵɵpipeBind1(16, 6, \"dashboard.remove-widget\"), \" \");\n} }\nfunction DashboardComponent_div_10_div_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 10);\n    ɵngcc0.ɵɵtemplate(1, DashboardComponent_div_10_div_1_vdr_dashboard_widget_1_Template, 17, 8, \"vdr-dashboard-widget\", 11);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const widget_r8 = ctx.$implicit;\n    const ctx_r7 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngClass\", ctx_r7.getClassForWidth(widget_r8.width))(\"cdkDragData\", widget_r8);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"vdrIfPermissions\", widget_r8.config.requiresPermissions || null);\n} }\nconst _c1 = function (a0) { return { index: a0 }; };\nfunction DashboardComponent_div_10_Template(rf, ctx) { if (rf & 1) {\n    const _r21 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 8);\n    ɵngcc0.ɵɵlistener(\"cdkDropListDropped\", function DashboardComponent_div_10_Template_div_cdkDropListDropped_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r21); const ctx_r20 = ɵngcc0.ɵɵnextContext(); return ctx_r20.drop($event); });\n    ɵngcc0.ɵɵtemplate(1, DashboardComponent_div_10_div_1_Template, 2, 3, \"div\", 9);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const row_r5 = ctx.$implicit;\n    const rowIndex_r6 = ctx.index;\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"cdkDropListData\", ɵngcc0.ɵɵpureFunction1(3, _c1, rowIndex_r6));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", row_r5)(\"ngForTrackBy\", ctx_r1.trackRowItem);\n} }\nconst _c2 = [\"portal\"];\nfunction DashboardWidgetComponent_ng_container_3_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵpipe(2, \"translate\");\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const title_r3 = ctx.ngIf;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(2, 1, title_r3));\n} }\nfunction DashboardWidgetComponent_ng_template_7_Template(rf, ctx) { }\nconst _c3 = [\"*\"];\nconst _c4 = function (a1) { return [\"/orders/\", a1]; };\nfunction LatestOrdersWidgetComponent_ng_template_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"td\", 1);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelement(2, \"vdr-order-state-label\", 2);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(3, \"td\", 1);\n    ɵngcc0.ɵɵelement(4, \"vdr-customer-label\", 3);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(5, \"td\", 1);\n    ɵngcc0.ɵɵtext(6);\n    ɵngcc0.ɵɵpipe(7, \"localeCurrency\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(8, \"td\", 1);\n    ɵngcc0.ɵɵtext(9);\n    ɵngcc0.ɵɵpipe(10, \"timeAgo\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(11, \"td\", 4);\n    ɵngcc0.ɵɵelement(12, \"vdr-table-row-action\", 5);\n    ɵngcc0.ɵɵpipe(13, \"translate\");\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const order_r1 = ctx.item;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", order_r1.code, \" \");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"state\", order_r1.state);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"customer\", order_r1.customer);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind2(7, 7, order_r1.total, order_r1.currencyCode));\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(10, 10, order_r1.orderPlacedAt));\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵproperty(\"label\", ɵngcc0.ɵɵpipeBind1(13, 12, \"common.open\"))(\"linkTo\", ɵngcc0.ɵɵpureFunction1(14, _c4, order_r1.id));\n} }\nfunction OrderSummaryWidgetComponent_div_18_Template(rf, ctx) { if (rf & 1) {\n    const _r4 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 7);\n    ɵngcc0.ɵɵelementStart(1, \"button\", 8);\n    ɵngcc0.ɵɵlistener(\"click\", function OrderSummaryWidgetComponent_div_18_Template_button_click_1_listener() { ɵngcc0.ɵɵrestoreView(_r4); const ctx_r3 = ɵngcc0.ɵɵnextContext(); return ctx_r3.selection$.next({ timeframe: \"day\", date: ctx_r3.today }); });\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵpipe(3, \"translate\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(4, \"button\", 8);\n    ɵngcc0.ɵɵlistener(\"click\", function OrderSummaryWidgetComponent_div_18_Template_button_click_4_listener() { ɵngcc0.ɵɵrestoreView(_r4); const ctx_r5 = ɵngcc0.ɵɵnextContext(); return ctx_r5.selection$.next({ timeframe: \"day\", date: ctx_r5.yesterday }); });\n    ɵngcc0.ɵɵtext(5);\n    ɵngcc0.ɵɵpipe(6, \"translate\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(7, \"button\", 8);\n    ɵngcc0.ɵɵlistener(\"click\", function OrderSummaryWidgetComponent_div_18_Template_button_click_7_listener() { ɵngcc0.ɵɵrestoreView(_r4); const ctx_r6 = ɵngcc0.ɵɵnextContext(); return ctx_r6.selection$.next({ timeframe: \"week\" }); });\n    ɵngcc0.ɵɵtext(8);\n    ɵngcc0.ɵɵpipe(9, \"translate\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(10, \"button\", 8);\n    ɵngcc0.ɵɵlistener(\"click\", function OrderSummaryWidgetComponent_div_18_Template_button_click_10_listener() { ɵngcc0.ɵɵrestoreView(_r4); const ctx_r7 = ɵngcc0.ɵɵnextContext(); return ctx_r7.selection$.next({ timeframe: \"month\" }); });\n    ɵngcc0.ɵɵtext(11);\n    ɵngcc0.ɵɵpipe(12, \"translate\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const selection_r2 = ctx.ngIf;\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵclassProp(\"btn-primary\", selection_r2.date === ctx_r0.today);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ɵngcc0.ɵɵpipeBind1(3, 12, \"dashboard.today\"), \" \");\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵclassProp(\"btn-primary\", selection_r2.date === ctx_r0.yesterday);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ɵngcc0.ɵɵpipeBind1(6, 14, \"dashboard.yesterday\"), \" \");\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵclassProp(\"btn-primary\", selection_r2.timeframe === \"week\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ɵngcc0.ɵɵpipeBind1(9, 16, \"dashboard.thisWeek\"), \" \");\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵclassProp(\"btn-primary\", selection_r2.timeframe === \"month\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ɵngcc0.ɵɵpipeBind1(12, 18, \"dashboard.thisMonth\"), \" \");\n} }\nfunction OrderSummaryWidgetComponent_div_20_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 9);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵpipe(2, \"localeDate\");\n    ɵngcc0.ɵɵpipe(3, \"localeDate\");\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const range_r8 = ctx.ngIf;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate2(\" \", ɵngcc0.ɵɵpipeBind1(2, 2, range_r8.start), \" - \", ɵngcc0.ɵɵpipeBind1(3, 4, range_r8.end), \" \");\n} }\nfunction WelcomeWidgetComponent_div_0_p_7_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"p\", 4);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r2 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate2(\" \", ctx_r2.hideVendureBranding ? \"\" : \"Vendure\", \" \", ctx_r2.hideVersion ? \"\" : \"Admin UI v\" + ctx_r2.version, \" \");\n} }\nfunction WelcomeWidgetComponent_div_0_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\");\n    ɵngcc0.ɵɵelementStart(1, \"h4\", 3);\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵelement(3, \"br\");\n    ɵngcc0.ɵɵelementStart(4, \"small\", 4);\n    ɵngcc0.ɵɵtext(5);\n    ɵngcc0.ɵɵpipe(6, \"timeAgo\");\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(7, WelcomeWidgetComponent_div_0_p_7_Template, 2, 2, \"p\", 5);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const administrator_r1 = ctx.ngIf;\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate2(\" Welcome, \", administrator_r1.firstName, \" \", administrator_r1.lastName, \"\");\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵtextInterpolate1(\"Last login: \", ɵngcc0.ɵɵpipeBind1(6, 4, administrator_r1.user.lastLogin), \"\");\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r0.hideVendureBranding || !ctx_r0.hideVersion);\n} }\nclass DashboardComponent {\r\n    constructor(dashboardWidgetService, localStorageService, changedDetectorRef, dataService) {\r\n        this.dashboardWidgetService = dashboardWidgetService;\r\n        this.localStorageService = localStorageService;\r\n        this.changedDetectorRef = changedDetectorRef;\r\n        this.dataService = dataService;\r\n        this.deletionMarker = '__delete__';\r\n    }\r\n    ngOnInit() {\r\n        this.availableWidgetIds$ = this.dataService.client.userStatus().stream$.pipe(map(({ userStatus }) => userStatus.permissions), map(permissions => this.dashboardWidgetService.getAvailableIds(permissions)), tap(ids => (this.widgetLayout = this.initLayout(ids))));\r\n    }\r\n    getClassForWidth(width) {\r\n        switch (width) {\r\n            case 3:\r\n                return `clr-col-12 clr-col-sm-6 clr-col-lg-3`;\r\n            case 4:\r\n                return `clr-col-12 clr-col-sm-6 clr-col-lg-4`;\r\n            case 6:\r\n                return `clr-col-12 clr-col-lg-6`;\r\n            case 8:\r\n                return `clr-col-12 clr-col-lg-8`;\r\n            case 12:\r\n                return `clr-col-12`;\r\n            default:\r\n                assertNever(width);\r\n        }\r\n    }\r\n    getSupportedWidths(config) {\r\n        return config.supportedWidths || [3, 4, 6, 8, 12];\r\n    }\r\n    setWidgetWidth(widget, width) {\r\n        widget.width = width;\r\n        this.recalculateLayout();\r\n    }\r\n    trackRow(index, row) {\r\n        const id = row.map(item => `${item.id}:${item.width}`).join('|');\r\n        return id;\r\n    }\r\n    trackRowItem(index, item) {\r\n        return item.config;\r\n    }\r\n    addWidget(id) {\r\n        var _a;\r\n        const config = this.dashboardWidgetService.getWidgetById(id);\r\n        if (config) {\r\n            const width = this.getSupportedWidths(config)[0];\r\n            const widget = {\r\n                id,\r\n                config,\r\n                width,\r\n            };\r\n            let targetRow;\r\n            if (this.widgetLayout && this.widgetLayout.length) {\r\n                targetRow = this.widgetLayout[this.widgetLayout.length - 1];\r\n            }\r\n            else {\r\n                targetRow = [];\r\n                (_a = this.widgetLayout) === null || _a === void 0 ? void 0 : _a.push(targetRow);\r\n            }\r\n            targetRow.push(widget);\r\n            this.recalculateLayout();\r\n        }\r\n    }\r\n    removeWidget(widget) {\r\n        widget.id = this.deletionMarker;\r\n        this.recalculateLayout();\r\n    }\r\n    drop(event) {\r\n        const { currentIndex, previousIndex, previousContainer, container } = event;\r\n        if (previousIndex === currentIndex && previousContainer.data.index === container.data.index) {\r\n            // Nothing changed\r\n            return;\r\n        }\r\n        if (this.widgetLayout) {\r\n            const previousLayoutRow = this.widgetLayout[previousContainer.data.index];\r\n            const newLayoutRow = this.widgetLayout[container.data.index];\r\n            previousLayoutRow.splice(previousIndex, 1);\r\n            newLayoutRow.splice(currentIndex, 0, event.item.data);\r\n            this.recalculateLayout();\r\n        }\r\n    }\r\n    initLayout(availableIds) {\r\n        const savedLayoutDef = this.localStorageService.get('dashboardWidgetLayout');\r\n        let layoutDef;\r\n        if (savedLayoutDef) {\r\n            // validate all the IDs from the saved layout are still available\r\n            layoutDef = savedLayoutDef.filter(item => availableIds.includes(item.id));\r\n        }\r\n        return this.dashboardWidgetService.getWidgetLayout(layoutDef);\r\n    }\r\n    recalculateLayout() {\r\n        if (this.widgetLayout) {\r\n            const flattened = this.widgetLayout\r\n                .reduce((flat, row) => [...flat, ...row], [])\r\n                .filter(item => item.id !== this.deletionMarker);\r\n            const newLayoutDef = flattened.map(item => ({\r\n                id: item.id,\r\n                width: item.width,\r\n            }));\r\n            this.widgetLayout = this.dashboardWidgetService.getWidgetLayout(newLayoutDef);\r\n            this.localStorageService.set('dashboardWidgetLayout', newLayoutDef);\r\n            setTimeout(() => this.changedDetectorRef.markForCheck());\r\n        }\r\n    }\r\n}\nDashboardComponent.ɵfac = function DashboardComponent_Factory(t) { return new (t || DashboardComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DashboardWidgetService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.LocalStorageService), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DataService)); };\nDashboardComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: DashboardComponent, selectors: [[\"vdr-dashboard\"]], decls: 11, vars: 8, consts: [[1, \"widget-header\"], [\"vdrDropdownTrigger\", \"\", 1, \"btn\", \"btn-secondary\", \"btn-sm\"], [\"shape\", \"plus\"], [\"vdrPosition\", \"bottom-right\"], [\"class\", \"button\", \"vdrDropdownItem\", \"\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"cdkDropListGroup\", \"\"], [\"class\", \"clr-row dashboard-row\", \"cdkDropList\", \"\", \"cdkDropListOrientation\", \"horizontal\", 3, \"cdkDropListData\", \"cdkDropListDropped\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"vdrDropdownItem\", \"\", 1, \"button\", 3, \"click\"], [\"cdkDropList\", \"\", \"cdkDropListOrientation\", \"horizontal\", 1, \"clr-row\", \"dashboard-row\", 3, \"cdkDropListData\", \"cdkDropListDropped\"], [\"class\", \"dashboard-item\", \"cdkDrag\", \"\", 3, \"ngClass\", \"cdkDragData\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"cdkDrag\", \"\", 1, \"dashboard-item\", 3, \"ngClass\", \"cdkDragData\"], [3, \"widgetConfig\", 4, \"vdrIfPermissions\"], [3, \"widgetConfig\"], [1, \"flex\"], [\"cdkDragHandle\", \"\", 1, \"drag-handle\"], [\"shape\", \"drag-handle\", \"size\", \"24\"], [\"vdrDropdownTrigger\", \"\", 1, \"icon-button\"], [\"shape\", \"ellipsis-vertical\"], [1, \"dropdown-header\"], [\"class\", \"button\", \"vdrDropdownItem\", \"\", 3, \"disabled\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"role\", \"separator\", 1, \"dropdown-divider\"], [\"shape\", \"trash\", 1, \"is-danger\"], [\"vdrDropdownItem\", \"\", 1, \"button\", 3, \"disabled\", \"click\"]], template: function DashboardComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵelementStart(1, \"vdr-dropdown\");\n        ɵngcc0.ɵɵelementStart(2, \"button\", 1);\n        ɵngcc0.ɵɵelement(3, \"clr-icon\", 2);\n        ɵngcc0.ɵɵtext(4);\n        ɵngcc0.ɵɵpipe(5, \"translate\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(6, \"vdr-dropdown-menu\", 3);\n        ɵngcc0.ɵɵtemplate(7, DashboardComponent_button_7_Template, 2, 1, \"button\", 4);\n        ɵngcc0.ɵɵpipe(8, \"async\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(9, \"div\", 5);\n        ɵngcc0.ɵɵtemplate(10, DashboardComponent_div_10_Template, 2, 5, \"div\", 6);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(4);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ɵngcc0.ɵɵpipeBind1(5, 4, \"dashboard.add-widget\"), \" \");\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ɵngcc0.ɵɵpipeBind1(8, 6, ctx.availableWidgetIds$));\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.widgetLayout)(\"ngForTrackBy\", ctx.trackRow);\n    } }, directives: function () { return [ɵngcc1.DropdownComponent, ɵngcc1.DropdownTriggerDirective, ɵngcc2.ClrIconCustomTag, ɵngcc1.DropdownMenuComponent, ɵngcc3.NgForOf, ɵngcc4.CdkDropListGroup, ɵngcc2.ClrDatagridItemsTrackBy, ɵngcc1.DropdownItemDirective, ɵngcc4.CdkDropList, ɵngcc4.CdkDrag, ɵngcc3.NgClass, ɵngcc1.IfPermissionsDirective, DashboardWidgetComponent, ɵngcc4.CdkDragHandle]; }, pipes: function () { return [ɵngcc5.TranslatePipe, ɵngcc3.AsyncPipe]; }, styles: [\".widget-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.placeholder[_ngcontent-%COMP%]{color:var(--color-grey-300);text-align:center}.placeholder[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{font-size:3em;margin:24px;line-height:1em}.placeholder[_ngcontent-%COMP%]     .clr-i-outline{fill:var(--color-grey-200)}vdr-dashboard-widget[_ngcontent-%COMP%]{margin-bottom:24px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.dashboard-row[_ngcontent-%COMP%]{padding:0;border-width:1;margin-bottom:6px;transition:padding .2s,margin .2s}.dashboard-row.cdk-drop-list-dragging[_ngcontent-%COMP%], .dashboard-row.cdk-drop-list-receiving[_ngcontent-%COMP%]{border:1px dashed var(--color-component-border-200);padding:6px}.dashboard-row.cdk-drop-list-dragging[_ngcontent-%COMP%]   .dashboard-item[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}\"], changeDetection: 0 });\r\nDashboardComponent.ctorParameters = () => [\r\n    { type: DashboardWidgetService },\r\n    { type: LocalStorageService },\r\n    { type: ChangeDetectorRef },\r\n    { type: DataService }\r\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DashboardComponent, [{\n        type: Component,\n        args: [{\n                selector: 'vdr-dashboard',\n                template: \"<div class=\\\"widget-header\\\">\\r\\n    <vdr-dropdown>\\r\\n        <button class=\\\"btn btn-secondary btn-sm\\\" vdrDropdownTrigger>\\r\\n            <clr-icon shape=\\\"plus\\\"></clr-icon>\\r\\n            {{ 'dashboard.add-widget' | translate }}\\r\\n        </button>\\r\\n        <vdr-dropdown-menu vdrPosition=\\\"bottom-right\\\">\\r\\n            <button\\r\\n                class=\\\"button\\\"\\r\\n                vdrDropdownItem\\r\\n                *ngFor=\\\"let id of availableWidgetIds$ | async\\\"\\r\\n                (click)=\\\"addWidget(id)\\\"\\r\\n            >\\r\\n                {{ id }}\\r\\n            </button>\\r\\n        </vdr-dropdown-menu>\\r\\n    </vdr-dropdown>\\r\\n</div>\\r\\n<div cdkDropListGroup>\\r\\n    <div\\r\\n        class=\\\"clr-row dashboard-row\\\"\\r\\n        *ngFor=\\\"let row of widgetLayout; index as rowIndex; trackBy: trackRow\\\"\\r\\n        cdkDropList\\r\\n        (cdkDropListDropped)=\\\"drop($event)\\\"\\r\\n        cdkDropListOrientation=\\\"horizontal\\\"\\r\\n        [cdkDropListData]=\\\"{ index: rowIndex }\\\"\\r\\n    >\\r\\n        <div\\r\\n            *ngFor=\\\"let widget of row; trackBy: trackRowItem\\\"\\r\\n            class=\\\"dashboard-item\\\"\\r\\n            [ngClass]=\\\"getClassForWidth(widget.width)\\\"\\r\\n            cdkDrag\\r\\n            [cdkDragData]=\\\"widget\\\"\\r\\n        >\\r\\n            <vdr-dashboard-widget\\r\\n                *vdrIfPermissions=\\\"widget.config.requiresPermissions || null\\\"\\r\\n                [widgetConfig]=\\\"widget.config\\\"\\r\\n            >\\r\\n                <div class=\\\"flex\\\">\\r\\n                    <div class=\\\"drag-handle\\\" cdkDragHandle>\\r\\n                        <clr-icon shape=\\\"drag-handle\\\" size=\\\"24\\\"></clr-icon>\\r\\n                    </div>\\r\\n                    <vdr-dropdown>\\r\\n                        <button class=\\\"icon-button\\\" vdrDropdownTrigger>\\r\\n                            <clr-icon shape=\\\"ellipsis-vertical\\\"></clr-icon>\\r\\n                        </button>\\r\\n                        <vdr-dropdown-menu vdrPosition=\\\"bottom-right\\\">\\r\\n                            <h4 class=\\\"dropdown-header\\\">{{ 'dashboard.widget-resize' | translate }}</h4>\\r\\n                            <button\\r\\n                                class=\\\"button\\\"\\r\\n                                vdrDropdownItem\\r\\n                                [disabled]=\\\"width === widget.width\\\"\\r\\n                                *ngFor=\\\"let width of getSupportedWidths(widget.config)\\\"\\r\\n                                (click)=\\\"setWidgetWidth(widget, width)\\\"\\r\\n                            >\\r\\n                                {{ 'dashboard.widget-width' | translate: { width: width } }}\\r\\n                            </button>\\r\\n                            <div class=\\\"dropdown-divider\\\" role=\\\"separator\\\"></div>\\r\\n                            <button class=\\\"button\\\" vdrDropdownItem (click)=\\\"removeWidget(widget)\\\">\\r\\n                                <clr-icon shape=\\\"trash\\\" class=\\\"is-danger\\\"></clr-icon>\\r\\n                                {{ 'dashboard.remove-widget' | translate }}\\r\\n                            </button>\\r\\n                        </vdr-dropdown-menu>\\r\\n                    </vdr-dropdown>\\r\\n                </div>\\r\\n            </vdr-dashboard-widget>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\",\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                styles: [\".widget-header{display:flex;justify-content:flex-end}.placeholder{color:var(--color-grey-300);text-align:center}.placeholder .version{font-size:3em;margin:24px;line-height:1em}.placeholder ::ng-deep .clr-i-outline{fill:var(--color-grey-200)}vdr-dashboard-widget{margin-bottom:24px}.cdk-drag-preview{box-sizing:border-box;border-radius:4px}.cdk-drag-placeholder{opacity:0}.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.dashboard-row{padding:0;border-width:1;margin-bottom:6px;transition:padding .2s,margin .2s}.dashboard-row.cdk-drop-list-dragging,.dashboard-row.cdk-drop-list-receiving{border:1px dashed var(--color-component-border-200);padding:6px}.dashboard-row.cdk-drop-list-dragging .dashboard-item:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}\"]\n            }]\n    }], function () { return [{ type: ɵngcc1.DashboardWidgetService }, { type: ɵngcc1.LocalStorageService }, { type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc1.DataService }]; }, null); })();\n\nclass DashboardWidgetComponent {\r\n    constructor(componentFactoryResolver) {\r\n        this.componentFactoryResolver = componentFactoryResolver;\r\n    }\r\n    ngAfterViewInit() {\r\n        this.loadWidget();\r\n    }\r\n    loadWidget() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const loadComponentResult = this.widgetConfig.loadComponent();\r\n            const componentType = loadComponentResult instanceof Promise ? yield loadComponentResult : loadComponentResult;\r\n            this.componentRef = this.portal.createComponent(this.componentFactoryResolver.resolveComponentFactory(componentType));\r\n            this.componentRef.changeDetectorRef.markForCheck();\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n        if (this.componentRef) {\r\n            this.componentRef.destroy();\r\n        }\r\n    }\r\n}\nDashboardWidgetComponent.ɵfac = function DashboardWidgetComponent_Factory(t) { return new (t || DashboardWidgetComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ComponentFactoryResolver)); };\nDashboardWidgetComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: DashboardWidgetComponent, selectors: [[\"vdr-dashboard-widget\"]], viewQuery: function DashboardWidgetComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c2, 1, ViewContainerRef);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.portal = _t.first);\n    } }, inputs: { widgetConfig: \"widgetConfig\" }, ngContentSelectors: _c3, decls: 9, vars: 1, consts: [[1, \"card\"], [1, \"card-header\"], [1, \"title\"], [4, \"ngIf\"], [1, \"controls\"], [1, \"card-block\"], [\"portal\", \"\"]], template: function DashboardWidgetComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵelementStart(1, \"div\", 1);\n        ɵngcc0.ɵɵelementStart(2, \"div\", 2);\n        ɵngcc0.ɵɵtemplate(3, DashboardWidgetComponent_ng_container_3_Template, 3, 3, \"ng-container\", 3);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(4, \"div\", 4);\n        ɵngcc0.ɵɵprojection(5);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(6, \"div\", 5);\n        ɵngcc0.ɵɵtemplate(7, DashboardWidgetComponent_ng_template_7_Template, 0, 0, \"ng-template\", null, 6, ɵngcc0.ɵɵtemplateRefExtractor);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.widgetConfig.title);\n    } }, directives: [ɵngcc3.NgIf], pipes: [ɵngcc5.TranslatePipe], styles: [\"[_nghost-%COMP%]{display:block}.card[_ngcontent-%COMP%]{margin-top:0;min-height:200px}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}\"], changeDetection: 0 });\r\nDashboardWidgetComponent.ctorParameters = () => [\r\n    { type: ComponentFactoryResolver }\r\n];\r\nDashboardWidgetComponent.propDecorators = {\r\n    widgetConfig: [{ type: Input }],\r\n    portal: [{ type: ViewChild, args: ['portal', { read: ViewContainerRef },] }]\r\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DashboardWidgetComponent, [{\n        type: Component,\n        args: [{\n                selector: 'vdr-dashboard-widget',\n                template: \"<div class=\\\"card\\\">\\r\\n    <div class=\\\"card-header\\\">\\r\\n        <div class=\\\"title\\\">\\r\\n            <ng-container *ngIf=\\\"widgetConfig.title as title\\\">{{ title | translate }}</ng-container>\\r\\n        </div>\\r\\n        <div class=\\\"controls\\\">\\r\\n            <ng-content></ng-content>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"card-block\\\">\\r\\n        <ng-template #portal></ng-template>\\r\\n    </div>\\r\\n</div>\\r\\n\",\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                styles: [\":host{display:block}.card{margin-top:0;min-height:200px}.card-header{display:flex;justify-content:space-between}\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.ComponentFactoryResolver }]; }, { widgetConfig: [{\n            type: Input\n        }], portal: [{\n            type: ViewChild,\n            args: ['portal', { read: ViewContainerRef }]\n        }] }); })();\n\nconst dashboardRoutes = [\r\n    {\r\n        path: '',\r\n        component: DashboardComponent,\r\n        pathMatch: 'full',\r\n    },\r\n];\n\nclass LatestOrdersWidgetComponent {\r\n    constructor(dataService) {\r\n        this.dataService = dataService;\r\n    }\r\n    ngOnInit() {\r\n        this.latestOrders$ = this.dataService.order\r\n            .getOrders({\r\n            take: 10,\r\n            filter: {\r\n                active: { eq: false },\r\n            },\r\n            sort: {\r\n                orderPlacedAt: SortOrder.DESC,\r\n            },\r\n        })\r\n            .refetchOnChannelChange()\r\n            .mapStream(data => data.orders.items);\r\n    }\r\n}\nLatestOrdersWidgetComponent.ɵfac = function LatestOrdersWidgetComponent_Factory(t) { return new (t || LatestOrdersWidgetComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DataService)); };\nLatestOrdersWidgetComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: LatestOrdersWidgetComponent, selectors: [[\"vdr-latest-orders-widget\"]], decls: 3, vars: 3, consts: [[3, \"items\"], [1, \"left\", \"align-middle\"], [3, \"state\"], [3, \"customer\"], [1, \"right\", \"align-middle\"], [\"iconShape\", \"shopping-cart\", 3, \"label\", \"linkTo\"]], template: function LatestOrdersWidgetComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"vdr-data-table\", 0);\n        ɵngcc0.ɵɵpipe(1, \"async\");\n        ɵngcc0.ɵɵtemplate(2, LatestOrdersWidgetComponent_ng_template_2_Template, 14, 16, \"ng-template\");\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"items\", ɵngcc0.ɵɵpipeBind1(1, 1, ctx.latestOrders$));\n    } }, directives: [ɵngcc1.DataTableComponent, ɵngcc1.OrderStateLabelComponent, ɵngcc1.CustomerLabelComponent, ɵngcc1.TableRowActionComponent], pipes: [ɵngcc3.AsyncPipe, ɵngcc1.LocaleCurrencyPipe, ɵngcc1.TimeAgoPipe, ɵngcc5.TranslatePipe], styles: [\"vdr-data-table[_ngcontent-%COMP%]     table{margin-top:0}\"], changeDetection: 0 });\r\nLatestOrdersWidgetComponent.ctorParameters = () => [\r\n    { type: DataService }\r\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(LatestOrdersWidgetComponent, [{\n        type: Component,\n        args: [{\n                selector: 'vdr-latest-orders-widget',\n                template: \"<vdr-data-table [items]=\\\"latestOrders$ | async\\\">\\r\\n    <ng-template let-order=\\\"item\\\">\\r\\n        <td class=\\\"left align-middle\\\">\\r\\n            {{ order.code }}\\r\\n            <vdr-order-state-label [state]=\\\"order.state\\\"></vdr-order-state-label>\\r\\n        </td>\\r\\n        <td class=\\\"left align-middle\\\">\\r\\n            <vdr-customer-label [customer]=\\\"order.customer\\\"></vdr-customer-label>\\r\\n        </td>\\r\\n        <td class=\\\"left align-middle\\\">{{ order.total | localeCurrency: order.currencyCode }}</td>\\r\\n        <td class=\\\"left align-middle\\\">{{ order.orderPlacedAt | timeAgo }}</td>\\r\\n        <td class=\\\"right align-middle\\\">\\r\\n            <vdr-table-row-action\\r\\n                iconShape=\\\"shopping-cart\\\"\\r\\n                [label]=\\\"'common.open' | translate\\\"\\r\\n                [linkTo]=\\\"['/orders/', order.id]\\\"\\r\\n            ></vdr-table-row-action>\\r\\n        </td>\\r\\n    </ng-template>\\r\\n</vdr-data-table>\\r\\n\",\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                styles: [\"vdr-data-table ::ng-deep table{margin-top:0}\"]\n            }]\n    }], function () { return [{ type: ɵngcc1.DataService }]; }, null); })();\r\nclass LatestOrdersWidgetModule {\r\n}\nLatestOrdersWidgetModule.ɵfac = function LatestOrdersWidgetModule_Factory(t) { return new (t || LatestOrdersWidgetModule)(); };\nLatestOrdersWidgetModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: LatestOrdersWidgetModule });\nLatestOrdersWidgetModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ imports: [[CoreModule, SharedModule]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(LatestOrdersWidgetModule, { declarations: function () { return [LatestOrdersWidgetComponent]; }, imports: function () { return [CoreModule, SharedModule]; } }); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(LatestOrdersWidgetModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CoreModule, SharedModule],\n                declarations: [LatestOrdersWidgetComponent]\n            }]\n    }], null, null); })();\n\nclass OrderSummaryWidgetComponent {\r\n    constructor(dataService) {\r\n        this.dataService = dataService;\r\n        this.today = new Date();\r\n        this.yesterday = new Date(new Date().setDate(this.today.getDate() - 1));\r\n        this.selection$ = new BehaviorSubject({\r\n            timeframe: 'day',\r\n            date: this.today,\r\n        });\r\n    }\r\n    ngOnInit() {\r\n        this.dateRange$ = this.selection$.pipe(distinctUntilChanged(), map(selection => {\r\n            return {\r\n                start: dayjs(selection.date).startOf(selection.timeframe).toDate(),\r\n                end: dayjs(selection.date).endOf(selection.timeframe).toDate(),\r\n            };\r\n        }), shareReplay(1));\r\n        const orderSummary$ = this.dateRange$.pipe(switchMap(({ start, end }) => {\r\n            return this.dataService.order\r\n                .getOrderSummary(start, end)\r\n                .refetchOnChannelChange()\r\n                .mapStream(data => data.orders);\r\n        }), shareReplay(1));\r\n        this.totalOrderCount$ = orderSummary$.pipe(map(res => res.totalItems));\r\n        this.totalOrderValue$ = orderSummary$.pipe(map(res => res.items.reduce((total, order) => total + order.total, 0) / 100));\r\n        this.currencyCode$ = this.dataService.settings\r\n            .getActiveChannel()\r\n            .refetchOnChannelChange()\r\n            .mapStream(data => data.activeChannel.currencyCode || undefined);\r\n    }\r\n}\nOrderSummaryWidgetComponent.ɵfac = function OrderSummaryWidgetComponent_Factory(t) { return new (t || OrderSummaryWidgetComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DataService)); };\nOrderSummaryWidgetComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: OrderSummaryWidgetComponent, selectors: [[\"vdr-order-summary-widget\"]], decls: 22, vars: 23, consts: [[1, \"stats\"], [1, \"stat\"], [1, \"stat-figure\"], [1, \"stat-label\"], [1, \"footer\"], [\"class\", \"btn-group btn-outline-primary btn-sm\", 4, \"ngIf\"], [\"class\", \"date-range p5\", 4, \"ngIf\"], [1, \"btn-group\", \"btn-outline-primary\", \"btn-sm\"], [1, \"btn\", 3, \"click\"], [1, \"date-range\", \"p5\"]], template: function OrderSummaryWidgetComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵelementStart(1, \"div\", 1);\n        ɵngcc0.ɵɵelementStart(2, \"div\", 2);\n        ɵngcc0.ɵɵtext(3);\n        ɵngcc0.ɵɵpipe(4, \"async\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(5, \"div\", 3);\n        ɵngcc0.ɵɵtext(6);\n        ɵngcc0.ɵɵpipe(7, \"translate\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(8, \"div\", 1);\n        ɵngcc0.ɵɵelementStart(9, \"div\", 2);\n        ɵngcc0.ɵɵtext(10);\n        ɵngcc0.ɵɵpipe(11, \"currency\");\n        ɵngcc0.ɵɵpipe(12, \"async\");\n        ɵngcc0.ɵɵpipe(13, \"async\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(14, \"div\", 3);\n        ɵngcc0.ɵɵtext(15);\n        ɵngcc0.ɵɵpipe(16, \"translate\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(17, \"div\", 4);\n        ɵngcc0.ɵɵtemplate(18, OrderSummaryWidgetComponent_div_18_Template, 13, 20, \"div\", 5);\n        ɵngcc0.ɵɵpipe(19, \"async\");\n        ɵngcc0.ɵɵtemplate(20, OrderSummaryWidgetComponent_div_20_Template, 4, 6, \"div\", 6);\n        ɵngcc0.ɵɵpipe(21, \"async\");\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(4, 6, ctx.totalOrderCount$));\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(7, 8, \"dashboard.total-orders\"));\n        ɵngcc0.ɵɵadvance(4);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ɵngcc0.ɵɵpipeBind2(11, 10, ɵngcc0.ɵɵpipeBind1(12, 13, ctx.totalOrderValue$), ɵngcc0.ɵɵpipeBind1(13, 15, ctx.currencyCode$) || undefined), \" \");\n        ɵngcc0.ɵɵadvance(5);\n        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(16, 17, \"dashboard.total-order-value\"));\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ɵngcc0.ɵɵpipeBind1(19, 19, ctx.selection$));\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ɵngcc0.ɵɵpipeBind1(21, 21, ctx.dateRange$));\n    } }, directives: [ɵngcc3.NgIf], pipes: [ɵngcc3.AsyncPipe, ɵngcc5.TranslatePipe, ɵngcc3.CurrencyPipe, ɵngcc1.LocaleDatePipe], styles: [\".stats[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.stat[_ngcontent-%COMP%]{text-align:center}.stat-figure[_ngcontent-%COMP%]{font-size:2rem;line-height:3rem}.stat-label[_ngcontent-%COMP%]{text-transform:uppercase}.date-range[_ngcontent-%COMP%]{margin-top:0}.footer[_ngcontent-%COMP%]{margin-top:24px;display:flex;flex-direction:column;justify-content:space-between}@media screen and (min-width:768px){.footer[_ngcontent-%COMP%]{flex-direction:row}}\"], changeDetection: 0 });\r\nOrderSummaryWidgetComponent.ctorParameters = () => [\r\n    { type: DataService }\r\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(OrderSummaryWidgetComponent, [{\n        type: Component,\n        args: [{\n                selector: 'vdr-order-summary-widget',\n                template: \"<div class=\\\"stats\\\">\\r\\n    <div class=\\\"stat\\\">\\r\\n        <div class=\\\"stat-figure\\\">{{ totalOrderCount$ | async }}</div>\\r\\n        <div class=\\\"stat-label\\\">{{ 'dashboard.total-orders' | translate }}</div>\\r\\n    </div>\\r\\n    <div class=\\\"stat\\\">\\r\\n        <div class=\\\"stat-figure\\\">\\r\\n            {{ totalOrderValue$ | async | currency: (currencyCode$ | async) || undefined }}\\r\\n        </div>\\r\\n        <div class=\\\"stat-label\\\">{{ 'dashboard.total-order-value' | translate }}</div>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"footer\\\">\\r\\n    <div class=\\\"btn-group btn-outline-primary btn-sm\\\" *ngIf=\\\"selection$ | async as selection\\\">\\r\\n        <button class=\\\"btn\\\" [class.btn-primary]=\\\"selection.date === today\\\" (click)=\\\"selection$.next({timeframe: 'day', date: today})\\\">\\r\\n            {{ 'dashboard.today' | translate }}\\r\\n        </button>\\r\\n        <button class=\\\"btn\\\" [class.btn-primary]=\\\"selection.date === yesterday\\\" (click)=\\\"selection$.next({timeframe: 'day', date: yesterday})\\\">\\r\\n            {{ 'dashboard.yesterday' | translate }}\\r\\n        </button>\\r\\n        <button class=\\\"btn\\\" [class.btn-primary]=\\\"selection.timeframe === 'week'\\\" (click)=\\\"selection$.next({timeframe: 'week'})\\\">\\r\\n            {{ 'dashboard.thisWeek' | translate }}\\r\\n        </button>\\r\\n        <button class=\\\"btn\\\" [class.btn-primary]=\\\"selection.timeframe === 'month'\\\" (click)=\\\"selection$.next({timeframe: 'month'})\\\">\\r\\n            {{ 'dashboard.thisMonth' | translate }}\\r\\n        </button>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"date-range p5\\\" *ngIf=\\\"dateRange$ | async as range\\\">\\r\\n        {{ range.start | localeDate }} - {{ range.end | localeDate }}\\r\\n    </div>\\r\\n</div>\\r\\n\",\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                styles: [\".stats{display:flex;justify-content:space-evenly}.stat{text-align:center}.stat-figure{font-size:2rem;line-height:3rem}.stat-label{text-transform:uppercase}.date-range{margin-top:0}.footer{margin-top:24px;display:flex;flex-direction:column;justify-content:space-between}@media screen and (min-width:768px){.footer{flex-direction:row}}\"]\n            }]\n    }], function () { return [{ type: ɵngcc1.DataService }]; }, null); })();\r\nclass OrderSummaryWidgetModule {\r\n}\nOrderSummaryWidgetModule.ɵfac = function OrderSummaryWidgetModule_Factory(t) { return new (t || OrderSummaryWidgetModule)(); };\nOrderSummaryWidgetModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: OrderSummaryWidgetModule });\nOrderSummaryWidgetModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ imports: [[CoreModule]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(OrderSummaryWidgetModule, { declarations: function () { return [OrderSummaryWidgetComponent]; }, imports: function () { return [CoreModule]; } }); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(OrderSummaryWidgetModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CoreModule],\n                declarations: [OrderSummaryWidgetComponent]\n            }]\n    }], null, null); })();\n\nclass TestWidgetComponent {\r\n}\nTestWidgetComponent.ɵfac = function TestWidgetComponent_Factory(t) { return new (t || TestWidgetComponent)(); };\nTestWidgetComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: TestWidgetComponent, selectors: [[\"vdr-test-widget\"]], decls: 2, vars: 0, template: function TestWidgetComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"p\");\n        ɵngcc0.ɵɵtext(1, \"This is a test widget!\");\n        ɵngcc0.ɵɵelementEnd();\n    } }, styles: [\"\"], changeDetection: 0 });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(TestWidgetComponent, [{\n        type: Component,\n        args: [{\n                selector: 'vdr-test-widget',\n                template: \"<p>This is a test widget!</p>\\r\\n\",\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                styles: [\"\"]\n            }]\n    }], null, null); })();\r\nclass TestWidgetModule {\r\n}\nTestWidgetModule.ɵfac = function TestWidgetModule_Factory(t) { return new (t || TestWidgetModule)(); };\nTestWidgetModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: TestWidgetModule });\nTestWidgetModule.ɵinj = ɵngcc0.ɵɵdefineInjector({});\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(TestWidgetModule, { declarations: [TestWidgetComponent] }); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(TestWidgetModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [TestWidgetComponent]\n            }]\n    }], null, null); })();\n\nclass WelcomeWidgetComponent {\r\n    constructor(dataService) {\r\n        this.dataService = dataService;\r\n        this.version = ADMIN_UI_VERSION;\r\n        this.brand = getAppConfig().brand;\r\n        this.hideVendureBranding = getAppConfig().hideVendureBranding;\r\n        this.hideVersion = getAppConfig().hideVersion;\r\n    }\r\n    ngOnInit() {\r\n        this.administrator$ = this.dataService.administrator\r\n            .getActiveAdministrator()\r\n            .mapStream(data => data.activeAdministrator || null);\r\n    }\r\n}\nWelcomeWidgetComponent.ɵfac = function WelcomeWidgetComponent_Factory(t) { return new (t || WelcomeWidgetComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DataService)); };\nWelcomeWidgetComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: WelcomeWidgetComponent, selectors: [[\"vdr-welcome-widget\"]], decls: 4, vars: 3, consts: [[4, \"ngIf\"], [1, \"placeholder\"], [\"shape\", \"line-chart\", \"size\", \"128\"], [1, \"h4\"], [1, \"p5\"], [\"class\", \"p5\", 4, \"ngIf\"]], template: function WelcomeWidgetComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, WelcomeWidgetComponent_div_0_Template, 8, 6, \"div\", 0);\n        ɵngcc0.ɵɵpipe(1, \"async\");\n        ɵngcc0.ɵɵelementStart(2, \"div\", 1);\n        ɵngcc0.ɵɵelement(3, \"clr-icon\", 2);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngIf\", ɵngcc0.ɵɵpipeBind1(1, 1, ctx.administrator$));\n    } }, directives: [ɵngcc3.NgIf, ɵngcc2.ClrIconCustomTag], pipes: [ɵngcc3.AsyncPipe, ɵngcc1.TimeAgoPipe], styles: [\"[_nghost-%COMP%]{display:flex;justify-content:space-between}.placeholder[_ngcontent-%COMP%]{color:var(--color-grey-200)}\"], changeDetection: 0 });\r\nWelcomeWidgetComponent.ctorParameters = () => [\r\n    { type: DataService }\r\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(WelcomeWidgetComponent, [{\n        type: Component,\n        args: [{\n                selector: 'vdr-welcome-widget',\n                template: \"<div *ngIf=\\\"administrator$ | async as administrator\\\">\\r\\n    <h4 class=\\\"h4\\\">\\r\\n        Welcome, {{ administrator.firstName }} {{ administrator.lastName }}<br />\\r\\n        <small class=\\\"p5\\\">Last login: {{ administrator.user.lastLogin | timeAgo }}</small>\\r\\n    </h4>\\r\\n\\r\\n    <p class=\\\"p5\\\" *ngIf=\\\"!hideVendureBranding || !hideVersion\\\">\\r\\n        {{ hideVendureBranding ? '' : 'Vendure' }} {{ hideVersion ? '' : ('Admin UI v' + version) }}\\r\\n    </p>\\r\\n</div>\\r\\n<div class=\\\"placeholder\\\">\\r\\n    <clr-icon shape=\\\"line-chart\\\" size=\\\"128\\\"></clr-icon>\\r\\n</div>\\r\\n\",\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                styles: [\":host{display:flex;justify-content:space-between}.placeholder{color:var(--color-grey-200)}\"]\n            }]\n    }], function () { return [{ type: ɵngcc1.DataService }]; }, null); })();\r\nclass WelcomeWidgetModule {\r\n}\nWelcomeWidgetModule.ɵfac = function WelcomeWidgetModule_Factory(t) { return new (t || WelcomeWidgetModule)(); };\nWelcomeWidgetModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: WelcomeWidgetModule });\nWelcomeWidgetModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ imports: [[CoreModule]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(WelcomeWidgetModule, { declarations: function () { return [WelcomeWidgetComponent]; }, imports: function () { return [CoreModule]; } }); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(WelcomeWidgetModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CoreModule],\n                declarations: [WelcomeWidgetComponent]\n            }]\n    }], null, null); })();\n\nconst DEFAULT_DASHBOARD_WIDGET_LAYOUT = [\r\n    { id: 'welcome', width: 12 },\r\n    { id: 'orderSummary', width: 6 },\r\n    { id: 'latestOrders', width: 6 },\r\n];\r\nconst ɵ0 = () => WelcomeWidgetComponent, ɵ1 = () => OrderSummaryWidgetComponent, ɵ2 = () => LatestOrdersWidgetComponent, ɵ3 = () => TestWidgetComponent;\r\nconst DEFAULT_WIDGETS = {\r\n    welcome: {\r\n        loadComponent: ɵ0,\r\n    },\r\n    orderSummary: {\r\n        title: marker('dashboard.orders-summary'),\r\n        loadComponent: ɵ1,\r\n        requiresPermissions: [Permission.ReadOrder],\r\n    },\r\n    latestOrders: {\r\n        title: marker('dashboard.latest-orders'),\r\n        loadComponent: ɵ2,\r\n        supportedWidths: [6, 8, 12],\r\n        requiresPermissions: [Permission.ReadOrder],\r\n    },\r\n    testWidget: {\r\n        title: 'Test Widget',\r\n        loadComponent: ɵ3,\r\n    },\r\n};\n\nclass DashboardModule {\r\n    constructor(dashboardWidgetService) {\r\n        Object.entries(DEFAULT_WIDGETS).map(([id, config]) => dashboardWidgetService.registerWidget(id, config));\r\n        if (dashboardWidgetService.getDefaultLayout().length === 0) {\r\n            dashboardWidgetService.setDefaultLayout(DEFAULT_DASHBOARD_WIDGET_LAYOUT);\r\n        }\r\n    }\r\n}\nDashboardModule.ɵfac = function DashboardModule_Factory(t) { return new (t || DashboardModule)(ɵngcc0.ɵɵinject(ɵngcc1.DashboardWidgetService)); };\nDashboardModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: DashboardModule });\nDashboardModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ imports: [[SharedModule, RouterModule.forChild(dashboardRoutes)]] });\r\nDashboardModule.ctorParameters = () => [\r\n    { type: DashboardWidgetService }\r\n];\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(DashboardModule, { declarations: function () { return [DashboardComponent, DashboardWidgetComponent]; }, imports: function () { return [SharedModule, ɵngcc6.RouterModule]; } }); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DashboardModule, [{\n        type: NgModule,\n        args: [{\n                imports: [SharedModule, RouterModule.forChild(dashboardRoutes)],\n                declarations: [DashboardComponent, DashboardWidgetComponent]\n            }]\n    }], function () { return [{ type: ɵngcc1.DashboardWidgetService }]; }, null); })();\n\n// This file was generated by the build-public-api.ts script\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { DEFAULT_DASHBOARD_WIDGET_LAYOUT, DEFAULT_WIDGETS, DashboardComponent, DashboardModule, DashboardWidgetComponent, LatestOrdersWidgetComponent, LatestOrdersWidgetModule, OrderSummaryWidgetComponent, OrderSummaryWidgetModule, TestWidgetComponent, TestWidgetModule, WelcomeWidgetComponent, WelcomeWidgetModule, dashboardRoutes, ɵ0, ɵ1, ɵ2, ɵ3 };\n\n//# sourceMappingURL=vendure-admin-ui-dashboard.js.map"]}